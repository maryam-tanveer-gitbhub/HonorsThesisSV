
import excel "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Data for Assignment 1 copy.xlsx", sheet("race") firstrow case(lower) clear

replace location = lower(location)

clear

import excel "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Data for Assignment 1 copy.xlsx", sheet("geographic") firstrow

replace location = lower(location)

save "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/geographic.dta"

clear

import excel "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Data for Assignment 1 copy.xlsx", sheet("timework") firstrow case(lower)

replace location = lower(location)

save "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/timework.dta"

clear

import excel "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Data for Assignment 1 copy.xlsx", sheet("means") firstrow case(lower)

replace location = lower(location)

save "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/means.dta"

clear

use "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/boston_neigh.dta"

merge 1:1 location using "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/geographic.dta", nogenerate

merge 1:1 location using "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/means.dta", nogenerate

merge 1:1 location using "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/race.dta", nogenerate

merge 1:1 location using "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/timework.dta", nogenerate

xtile locationsize = pop, nquantiles(3)

gen locationsizelabels = "Big" if locationsize == 3

replace locationsizelabels = "Medium" if locationsize == 2

replace locationsizelabels = "Small" if locationsize == 1

save "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/boston_neigh.dta", replace

graph bar zeroto29minutespercent thirtytofiftyninepercent sixtyminutespercent, over(locationsizelabels) blabel(bar)

graph save "Graph" "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q1.gph"

graph save "Graph" "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q1.gph", replace

graph save "Graph" "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q1.gph", replace

egen totalhomeworkers = total(home)

egen totalpop = total(pop)

gen homeworkers_percent = totalhomeworkers/totalpop

gen nonhomeworkers_percent = 1-(totalhomeworkers/totalpop)

graph pie nonhomeworkers_percent homeworkers_percent

display homeworkers_percent

display nonhomeworkers_percent

graph save "Graph" "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q2.gph"
file /Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q2.gph saved

gen percentnonwhite = 1-perc_white

rename G diffcountypercent

graph bar Movedwithinsamecountypercent Movedfromdifferentstateperce diffcountypercent Samehouse1yearagopercent Movedfromabroadpercent, over(percentnonwhite) blabel (bar)

xtile percentnonwhitelabels = percentnonwhite, nquantiles(3)

gen nonwhite = "High fraction of minorities" if percentnonwhitelabels == 3

replace nonwhite = "Moderate fraction of minorities" if percentnonwhitelabels == 2

replace nonwhite = "Low fraction of minorities" if percentnonwhitelabels == 1

graph bar Movedwithinsamecountypercent Movedfromdifferentstateperce diffcountypercent Samehouse1yearagopercent Movedfromabroadpercent, over(nonwhite) blabel (bar)

graph save "Graph" "/Users/maryamtanveer/Desktop/STATA First Workshop -- DO OVER HOUR/Q3.gph"


